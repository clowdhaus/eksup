
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="EKS Cluster Upgrade Guidance">
      
      
        <meta name="author" content="ClowdHaus">
      
      
      
        <link rel="prev" href="../commands/">
      
      
        <link rel="next" href="../../design/overview/">
      
      <link rel="icon" href="../../imgs/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.9">
    
    
      
        <title>Checks - EKS Cluster Upgrade Guidance</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style>


    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ember:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"ember";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#checks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EKS Cluster Upgrade Guidance" class="md-header__button md-logo" aria-label="EKS Cluster Upgrade Guidance" data-md-component="logo">
      
  <img src="../../imgs/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EKS Cluster Upgrade Guidance
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Checks
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/clowdhaus/eksup" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    clowdhaus/eksup
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Process
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../design/overview/" class="md-tabs__link">
        Design
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EKS Cluster Upgrade Guidance" class="md-nav__button md-logo" aria-label="EKS Cluster Upgrade Guidance" data-md-component="logo">
      
  <img src="../../imgs/favicon.ico" alt="logo">

    </a>
    EKS Cluster Upgrade Guidance
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/clowdhaus/eksup" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    clowdhaus/eksup
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Process
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Checks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Checks
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amazon" class="md-nav__link">
    Amazon
  </a>
  
    <nav class="md-nav" aria-label="Amazon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws001" class="md-nav__link">
    AWS001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws002" class="md-nav__link">
    AWS002
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amazon-eks" class="md-nav__link">
    Amazon EKS
  </a>
  
    <nav class="md-nav" aria-label="Amazon EKS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eks001" class="md-nav__link">
    EKS001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks002" class="md-nav__link">
    EKS002
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks003" class="md-nav__link">
    EKS003
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks004" class="md-nav__link">
    EKS004
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks005" class="md-nav__link">
    EKS005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks006" class="md-nav__link">
    EKS006
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks007" class="md-nav__link">
    EKS007
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#k8s001" class="md-nav__link">
    K8S001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s002" class="md-nav__link">
    K8S002
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s003" class="md-nav__link">
    K8S003
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s004" class="md-nav__link">
    K8S004
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s005" class="md-nav__link">
    K8S005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s006" class="md-nav__link">
    K8S006
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s007" class="md-nav__link">
    K8S007
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s008" class="md-nav__link">
    K8S008
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s009" class="md-nav__link">
    K8S009
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s010" class="md-nav__link">
    K8S010
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amazon" class="md-nav__link">
    Amazon
  </a>
  
    <nav class="md-nav" aria-label="Amazon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws001" class="md-nav__link">
    AWS001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws002" class="md-nav__link">
    AWS002
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amazon-eks" class="md-nav__link">
    Amazon EKS
  </a>
  
    <nav class="md-nav" aria-label="Amazon EKS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eks001" class="md-nav__link">
    EKS001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks002" class="md-nav__link">
    EKS002
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks003" class="md-nav__link">
    EKS003
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks004" class="md-nav__link">
    EKS004
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks005" class="md-nav__link">
    EKS005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks006" class="md-nav__link">
    EKS006
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eks007" class="md-nav__link">
    EKS007
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#k8s001" class="md-nav__link">
    K8S001
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s002" class="md-nav__link">
    K8S002
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s003" class="md-nav__link">
    K8S003
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s004" class="md-nav__link">
    K8S004
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s005" class="md-nav__link">
    K8S005
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s006" class="md-nav__link">
    K8S006
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s007" class="md-nav__link">
    K8S007
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s008" class="md-nav__link">
    K8S008
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s009" class="md-nav__link">
    K8S009
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k8s010" class="md-nav__link">
    K8S010
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="checks">Checks<a class="headerlink" href="#checks" title="Permanent link">&para;</a></h1>
<p>If a check fails, it is reported as a finding. Each check will have a remediation type - either recommended or required. A recommended remediation is one that is recommended to be performed, but is not required to be performed.</p>
<ul>
<li>⚠️ Recommended: A finding that users are encouraged to evaluate the recommendation and determine if it is applicable and whether or not to act upon that recommendation. Not remediating the finding does not prevent the upgrade from occurring.</li>
<li>❌ Required: A finding that requires remediation prior to upgrading to be able to perform the upgrade and avoid downtime or disruption</li>
</ul>
<p>See the <a href="https://clowdhaus.github.io/eksup/process/#symbol-table">symbol table</a> for further details on the symbols used throughout the documentation.</p>
<h2 id="amazon">Amazon<a class="headerlink" href="#amazon" title="Permanent link">&para;</a></h2>
<p>Checks that are not specific to Amazon EKS or Kubernetes</p>
<h4 id="aws001">AWS001<a class="headerlink" href="#aws001" title="Permanent link">&para;</a></h4>
<div class="admonition info">
<p class="admonition-title">🚧 <em>Not yet implemented</em></p>
</div>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>There is a sufficient quantity of IPs available for the nodes to support the upgrade.</p>
<p>If custom networking is enabled, the results represent the number of IPs available in the subnets used by the EC2 instances. Otherwise, the results represent the number of IPs available in the subnets used by both the EC2 instances and the pods.</p>
<h4 id="aws002">AWS002<a class="headerlink" href="#aws002" title="Permanent link">&para;</a></h4>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>There is a sufficient quantity of IPs available for the <strong>pods</strong> to support the upgrade.</p>
<p>This check is used when custom networking is enabled since the IPs used by pods are coming from subnets different from those used by the EC2 instances themselves.</p>
<!-- #### AWS003
!!! info "🚧 _Not yet implemented_"

EC2 instance service limits

#### AWS004
!!! info "🚧 _Not yet implemented_"

EBS GP2 volume service limits

#### AWS005
!!! info "🚧 _Not yet implemented_"

EBS GP3 volume service limits -->

<hr />
<h2 id="amazon-eks">Amazon EKS<a class="headerlink" href="#amazon-eks" title="Permanent link">&para;</a></h2>
<p>Checks that are specific to Amazon EKS</p>
<h4 id="eks001">EKS001<a class="headerlink" href="#eks001" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>There are at least 5 available IPs for the control plane to upgrade; required for cross account ENI creation.</p>
<h4 id="eks002">EKS002<a class="headerlink" href="#eks002" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>Control plane does not have any reported health issues.</p>
<h4 id="eks003">EKS003<a class="headerlink" href="#eks003" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>EKS managed nodegroup does not have any reported health issues.</p>
<p>This does not include self-managed nodegroups or Fargate profiles; those are not currently supported by the AWS API to report health issues.</p>
<h4 id="eks004">EKS004<a class="headerlink" href="#eks004" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>EKS addon does not have any reported health issues.</p>
<h4 id="eks005">EKS005<a class="headerlink" href="#eks005" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>EKS addon version is within the supported range.</p>
<p>The addon must be updated to a version that is supported by the target Kubernetes version prior to upgrading.</p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>The target Kubernetes version default addon version is newer than the current addon version.</p>
<p>For example, if the default addon version of CoreDNS for Kubernetes <code>v1.24</code> is <code>v1.8.7-eksbuild.3</code> and the current addon version is <code>v1.8.4-eksbuild.2</code>, while the current version is supported on Kubernetes <code>v1.24</code>, its recommended to update the addon to <code>v1.8.7-eksbuild.3</code> during the upgrade.</p>
<h4 id="eks006">EKS006<a class="headerlink" href="#eks006" title="Permanent link">&para;</a></h4>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>EKS managed nodegroup are using the latest launch template version and there are no pending updates for the nodegroup.</p>
<p>Users are encourage to evaluate if remediation is warranted or not and whether to update to the latest launch template version prior to upgrading. If there are pending updates, this could potentially introduce additional changes to the nodegroup during the upgrade.</p>
<!-- TODO - add the CLI command to diff the launch template versions
diff <(aws ec2 describe-launch-template-versions A ...) <(aws ec2 describe-launch-template-versions B ...) -->
<!-- TODO - consider diffing the templates and reporting the differences in the reported output -->

<h4 id="eks007">EKS007<a class="headerlink" href="#eks007" title="Permanent link">&para;</a></h4>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>Self-managed nodegroup are using the latest launch template version and there are no pending updates for the nodegroup.</p>
<p>Users are encourage to evaluate if remediation is warranted or not and whether to update to the latest launch template version prior to upgrading. If there are pending updates, this could potentially introduce additional changes to the nodegroup during the upgrade.</p>
<!-- TODO - add the CLI command to diff the launch template versions
diff <(aws ec2 describe-launch-template-versions A ...) <(aws ec2 describe-launch-template-versions B ...) -->
<!-- TODO - consider diffing the templates and reporting the differences in the reported output -->

<hr />
<h2 id="kubernetes">Kubernetes<a class="headerlink" href="#kubernetes" title="Permanent link">&para;</a></h2>
<p>Checks that are specific to Kubernetes, regardless of the underlying platform provider.</p>
<p>Table below shows the checks that are applicable, or not, to the respective Kubernetes resource.</p>
<table>
<thead>
<tr>
<th align="center">Check</th>
<th align="center">Deployment</th>
<th align="center">ReplicaSet</th>
<th align="center">ReplicationController</th>
<th align="center">StatefulSet</th>
<th align="center">Job</th>
<th align="center">CronJob</th>
<th align="center">Daemonset</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>K8S001</code></td>
<td align="center">󠀭➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
</tr>
<tr>
<td align="center"><code>K8S002</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S003</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S004</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S005</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S006</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S007</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S008</code></td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
</tr>
<tr>
<td align="center"><code>K8S009</code></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">✅</td>
</tr>
<tr>
<td align="center"><code>K8S010</code></td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
</tr>
<tr>
<td align="center"><code>K8S011</code></td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
<td align="center">➖</td>
</tr>
</tbody>
</table>
<h4 id="k8s001">K8S001<a class="headerlink" href="#k8s001" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>The version skew between the control plane (API Server) and the data plane (kubelet) violates the Kubernetes version skew policy, or will violate the version skew policy after the control plane has been upgraded.</p>
<p>The data plane nodes must be upgraded to at least within 1 minor version of the control plane version in order to stay within the version skew policy through the upgrade; it is recommended to upgrade the data plane nodes to the same version as the control plane.</p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>There is a version skew between the control plane (API Server) and the data plane (kubelet).</p>
<p>While Kubernetes does support a version skew of n-2 between the API Server and kubelet, it is recommended to upgrade the data plane nodes to the same version as the control plane.</p>
<p><a href="https://kubernetes.io/releases/version-skew-policy/#supported-version-skew">Kubernetes version skew policy</a></p>
<h4 id="k8s002">K8S002<a class="headerlink" href="#k8s002" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>There are at least 3 replicas specified for the resource.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nn">---</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"> </span><span class="c1"># &gt;= 3</span>
</code></pre></div>
<p>Multiple replicas, along with the use of <code>PodDisruptionBudget</code>, are required to ensure high availability during the upgrade.</p>
<p><a href="https://aws.github.io/aws-eks-best-practices/reliability/docs/application/#run-multiple-replicas">EKS Best Practices - Reliability</a></p>
<h4 id="k8s003">K8S003<a class="headerlink" href="#k8s003" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p><code>minReadySeconds</code> has been set to a value greater than 0 seconds for <code>StatefulSet</code></p>
<p>You can read more about why this is necessary for <code>StatefulSet</code> <a href="https://kubernetes.io/blog/2021/08/27/minreadyseconds-statefulsets/">here</a></p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p><code>minReadySeconds</code> has been set to a value greater than 0 seconds for <code>Deployment</code>, <code>ReplicaSet</code>, <code>ReplicationController</code></p>
<h4 id="k8s004">K8S004<a class="headerlink" href="#k8s004" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>At least one <code>podDisruptionBudget</code> covers the workload, and at least one of <code>minAvailable</code> or <code>maxUnavailable</code> is set</p>
<p>The Kubernetes eviction API is the preferred method for draining nodes for replacement during an upgrade. The eviction API respects <code>PodDisruptionBudget</code> and will not evict pods that would violate the <code>PodDisruptionBudget</code> to ensure application availability, when specified.</p>
<h4 id="k8s005">K8S005<a class="headerlink" href="#k8s005" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>Either <code>.spec.affinity.podAntiAffinity</code> or <code>.spec.topologySpreadConstraints</code> is set to avoid multiple pods from the same workload from being scheduled on the same node.</p>
<p><code>topologySpreadConstraints</code> are preferred over affinity, especially for larger clusters:</p>
<ul>
<li>
<p><a href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity">Inter-pod affinity and anti-affinity</a></p>
<blockquote>
<p>Note: Inter-pod affinity and anti-affinity require substantial amount of processing which can slow down scheduling in large clusters significantly. We do not recommend using them in clusters larger than several hundred nodes.</p>
</blockquote>
</li>
</ul>
<p><a href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#types-of-inter-pod-affinity-and-anti-affinity">Types of inter-pod affinity and anti-affinity</a></p>
<p><a href="https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/">Pod Topology Spread Constraints</a></p>
<h4 id="k8s006">K8S006<a class="headerlink" href="#k8s006" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>A <code>readinessProbe</code> must be set to ensure traffic is not sent to pods before they are ready following their re-deployment from a node replacement.</p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>If a <code>livenessProbe</code>  is provided, it should not be the same as <code>readinessProbe</code>, and a <code>startupProbe</code> should also accompany it.</p>
<h4 id="k8s007">K8S007<a class="headerlink" href="#k8s007" title="Permanent link">&para;</a></h4>
<p><strong>❌ Remediation required</strong></p>
<p>The <code>StatefulSet</code> should not specify a <code>TerminationGracePeriodSeconds</code> of 0</p>
<ul>
<li>
<p><a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#deployment-and-scaling-guarantees">Deployment and Scaling Guarantees</a></p>
<blockquote>
<p>The StatefulSet should not specify a pod.Spec.TerminationGracePeriodSeconds of 0. This practice is unsafe and strongly discouraged. For further explanation, please refer to force deleting StatefulSet Pods.</p>
</blockquote>
</li>
</ul>
<p><a href="https://kubernetes.io/docs/tasks/run-application/force-delete-stateful-set-pod/">Force Delete StatefulSet Pods</a></p>
<h4 id="k8s008">K8S008<a class="headerlink" href="#k8s008" title="Permanent link">&para;</a></h4>
<p>Pod volumes should not mount the <code>docker.sock</code> file with the removal of the Dockershim starting in Kubernetes <code>v1.24</code></p>
<p><strong>❌ Remediation required</strong></p>
<p>For clusters on Kubernetes <code>v1.23</code></p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>For clusters on Kubernetes &lt;<code>v1.22</code></p>
<p><a href="https://kubernetes.io/blog/2022/02/17/dockershim-faq/">Dockershim Removal FAQ</a></p>
<p><a href="https://github.com/aws-containers/kubectl-detector-for-docker-socket">Detector for Docker Socket (DDS)</a></p>
<h4 id="k8s009">K8S009<a class="headerlink" href="#k8s009" title="Permanent link">&para;</a></h4>
<p>The pod security policy resource has been removed started in Kubernetes <code>v1.25</code></p>
<p><strong>❌ Remediation required</strong></p>
<p>For clusters on Kubernetes <code>v1.24</code></p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>For clusters on Kubernetes &lt;<code>v1.23</code></p>
<p><a href="https://kubernetes.io/docs/tasks/configure-pod-container/migrate-from-psp/">Migrate from PodSecurityPolicy to the Built-In PodSecurity Admission Controller</a></p>
<p><a href="https://kubernetes.io/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future/">PodSecurityPolicy Deprecation: Past, Present, and Future</a></p>
<h4 id="k8s010">K8S010<a class="headerlink" href="#k8s010" title="Permanent link">&para;</a></h4>
<p>The <a href="https://kubernetes.io/docs/concepts/storage/volumes/#awselasticblockstore">in-tree Amazon EBS storage provisioner</a> is deprecated. If you are upgrading your cluster to version <code>v1.23</code>, then you must first install the Amazon EBS driver before updating your cluster. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi-migration-faq.html">Amazon EBS CSI migration frequently asked questions</a>.</p>
<p><strong>❌ Remediation required</strong></p>
<p>For clusters on Kubernetes <code>v1.22</code></p>
<p><strong>⚠️ Remediation recommended</strong></p>
<p>For clusters on Kubernetes &lt;<code>v1.21</code></p>
<p><a href="https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi-migration-faq.html">Amazon EBS CSI migration frequently asked questions</a></p>
<p><a href="https://kubernetes.io/blog/2021/12/10/storage-in-tree-to-csi-migration-status-update/">Kubernetes In-Tree to CSI Volume Migration Status Update</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; ClowdHaus 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a00a7c5e.min.js"></script>
      
    
  </body>
</html>